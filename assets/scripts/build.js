"use strict";!function(e){e("document").ready(function(){e(".next-tab").click(function(){var t=e(this).attr("href");e('.nav-tabs a[href="'+t+'"]').tab("show")})})}(jQuery),function(e){var t;if("shoestring"in e)t=e.shoestring;else{if(!("jQuery"in e))throw new Error("tablesaw: DOM library not found.");t=e.jQuery}"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){t(document).trigger("enhance.tablesaw")})}("undefined"!=typeof window?window:void 0);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=function(t,a){return void 0===a&&(a="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(a),a}:e(jQuery)}(function(e){var t="undefined"!=typeof window?window:this,a={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},mustard:"head"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini};a.mustard&&e(document.documentElement).addClass("tablesaw-enhanced"),function(){var s="tablesaw",n={toolbar:"tablesaw-bar"},i={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh",resize:"tablesawresize"},o="stack",l="table",r="[data-tablesaw],[data-tablesaw-mode],[data-tablesaw-sortable]",c={getHeaderCells:function(){return this.$thead.children().filter("tr").eq(0).find("th")}};a.events=i;var d=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=e(t),this.$thead=this.$table.children().filter("thead"),this.$tbody=this.$table.children().filter("tbody"),this.mode=this.$table.attr("data-tablesaw-mode")||o,this.init()};d.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",s+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.trigger(i.create,[this])},d.prototype.getConfig=function(t){var a=e.extend(c,t||{});return e.extend(a,"undefined"!=typeof TablesawConfig?TablesawConfig:{})},d.prototype._getPrimaryHeaderCells=function(){return this.getConfig().getHeaderCells.call(this)},d.prototype._findHeadersForCell=function(e){for(var t=this._getPrimaryHeaderCells(),a=[],s=1;s<this.headerMapping.length;s++)for(var n=0;n<this.headerMapping[s].length;n++)this.headerMapping[s][n]===e&&a.push(t[n]);return a},d.prototype.getRows=function(){var t=this;return this.$table.find("tr").filter(function(){return e(this).closest("table").is(t.$table)})},d.prototype.getBodyRows=function(){return this.$tbody.children().filter("tr")},d.prototype._initCells=function(){var t=this.getRows(),a=[];t.each(function(e){a[e]=[]}),t.each(function(t){var s=0,n=e(this),i=n.children();i.each(function(){for(var e=parseInt(this.getAttribute("colspan"),10),n=parseInt(this.getAttribute("rowspan"),10);a[t][s];)s++;if(a[t][s]=this,e)for(var i=0;i<e-1;i++)s++,a[t][s]=this;if(n)for(var o=1;o<n;o++)a[t+o][s]=this;s++})});for(var s=0;s<a[0].length;s++){var n,i=a[0][s],o=0;for(i.cells||(i.cells=[]);o<a.length;)n=a[o][s],i!==n&&(i.cells.push(n),n.headerCell=i),o++}this.headerMapping=a},d.prototype.refresh=function(){this._initCells(),this.$table.trigger(i.refresh,[this])},d.prototype.createToolbar=function(){var t=this.$table.prev().filter("."+n.toolbar);t.length||(t=e("<div>").addClass(n.toolbar).insertBefore(this.$table)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},d.prototype.destroy=function(){this.$table.prev().filter("."+n.toolbar).each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var t=this.$table.attr("id");e(document).off("."+t),e(window).off("."+t),this.$table.trigger(i.destroy,[this]),this.$table.removeData(s)},e.fn[s]=function(){return this.each(function(){var t=e(this);if(!t.data(s)){var a=new d(this);t.data(s,a)}})};var h=e(t.document);h.on("enhance.tablesaw",function(t){a.mustard&&e(t.target).find(l).filter(r)[s]()});var u,f=!1;h.on("scroll.tablesaw",function(){f=!0,t.clearTimeout(u),u=t.setTimeout(function(){f=!1},300)});var b;e(t).on("resize",function(){f||(t.clearTimeout(b),b=t.setTimeout(function(){h.trigger(i.resize)},150))})}(),function(){var t={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"},s={key:"tablesaw-stack"},n={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty"},i=function(t,a){this.tablesaw=a,this.$table=e(t),this.labelless=this.$table.is("["+n.labelless+"]"),this.hideempty=this.$table.is("["+n.hideempty+"]"),this.$table.data(s.key,this)};i.prototype.init=function(){if(this.$table.addClass(t.stackTable),!this.labelless){var a=this;this.$table.find("th, td").filter(function(){return!e(this).closest("thead").length}).filter(function(){return!(e(this).closest("tr").is("["+n.labelless+"]")||a.hideempty&&!e(this).html())}).each(function(){var s=e(document.createElement("b")).addClass(t.cellLabels),n=e(this);e(a.tablesaw._findHeadersForCell(this)).each(function(t){var a=e(this.cloneNode(!0)),n=a.find(".tablesaw-sortable-btn");a.find(".tablesaw-sortable-arrow").remove();var i=a.find("[data-tablesaw-checkall]");return i.closest("label").remove(),i.length?void(s=e([])):(t>0&&s.append(document.createTextNode(", ")),void s.append(n.length?n[0].childNodes:a[0].childNodes))}),s.length&&!n.find("."+t.cellContentLabels).length&&n.wrapInner("<span class='"+t.cellContentLabels+"'></span>");var i=n.find("."+t.cellLabels);i.length?i.replaceWith(s):n.prepend(s)})}},i.prototype.destroy=function(){this.$table.removeClass(t.stackTable),this.$table.find("."+t.cellLabels).remove(),this.$table.find("."+t.cellContentLabels).each(function(){e(this).replaceWith(this.childNodes)})},e(document).on(a.events.create,function(e,t){if("stack"===t.mode){var a=new i(t.table,t);a.init()}}).on(a.events.refresh,function(t,a){"stack"===a.mode&&e(a.table).data(s.key).init()}).on(a.events.destroy,function(t,a){"stack"===a.mode&&e(a.table).data(s.key).destroy()})}(),function(){var t="tablesawbtn",a={_create:function(){return e(this).each(function(){e(this).trigger("beforecreate."+t)[t]("_init").trigger("create."+t)})},_init:function(){var a=e(this),s=this.getElementsByTagName("select")[0];return s&&e(this).addClass("btn-select")[t]("_select",s),a},_select:function(t){var a=function(t,a){var s,n,i=e(a).find("option"),o=document.createElement("span"),l=!1;if(o.setAttribute("aria-hidden","true"),o.innerHTML="&#160;",i.each(function(){var e=this;e.selected&&(o.innerHTML=e.text)}),n=t.childNodes,i.length>0){for(var r=0,c=n.length;r<c;r++)s=n[r],s&&"SPAN"===s.nodeName.toUpperCase()&&(t.replaceChild(o,s),l=!0);l||t.insertBefore(o,t.firstChild)}};a(this,t),e(this).on("change refresh",function(){a(this,t)})}};e.fn[t]=function(a,s,n,i){return this.each(function(){return a&&"string"==typeof a?e.fn[t].prototype[a].call(this,s,n,i):e(this).data(t+"active")?e(this):(e(this).data(t+"active",!0),void e.fn[t].prototype._create.call(this))})},e.extend(e.fn[t].prototype,a)}(),function(){var t={key:"tablesaw-coltoggle"},s=function(a){this.$table=e(a),this.$table.length&&(this.attributes={subrow:"data-tablesaw-subrow"},this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.headers=this.$table.find("tr").eq(0).find("th"),this.$table.data(t.key,this))};s.prototype.init=function(){function t(t){t&&e(t.target).closest("."+d.classes.popup).length||(e(document).off("click."+n),o.removeClass("up").addClass("down"),c.removeClass("visible"))}function s(){c.addClass("visible"),o.removeClass("down").addClass("up"),e(document).off("click."+n,t),window.clearTimeout(u),u=window.setTimeout(function(){e(document).on("click."+n,t)},15)}if(this.$table.length){var n,i,o,l,r,c,d=this;this.$table.addClass(this.classes.columnToggleTable),n=this.$table.attr("id"),i=n+"-popup",c=e("<div class='"+this.classes.columnBtnContain+"'></div>"),o=e("<a href='#"+i+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+a.i18n.columnBtnText+"</span></a>"),l=e("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+i+"'></div>"),r=e("<div class='btn-group'></div>");var h=!1;e(this.headers).not("td").each(function(){var t=e(this),a=t.attr("data-tablesaw-priority"),s=d.$getCells(this);a&&"persist"!==a&&(s.addClass(d.classes.priorityPrefix+a),e("<label><input type='checkbox' checked>"+t.text()+"</label>").appendTo(r).children().first().data("tablesaw-header",this),h=!0,"0"===a&&d.updateSubrows(!1))}),h||r.append("<label>"+a.i18n.columnsDialogError+"</label>"),r.appendTo(l),r.find('input[type="checkbox"]').on("change",function(e){var t=e.target.checked,a=d.getHeaderFromCheckbox(e.target),s=d.$getCells(a);s[t?"removeClass":"addClass"]("tablesaw-cell-hidden"),s[t?"addClass":"removeClass"]("tablesaw-cell-visible"),d.updateSubrows(t),d.$table.trigger("tablesawcolumns")}),o.appendTo(c),c.appendTo(this.$table.prev().filter("."+this.classes.toolbar));var u;o.on("click.tablesaw",function(e){e.preventDefault(),c.is(".visible")?t():s()}),l.appendTo(c),this.$menu=r,e(window).on(a.events.resize+"."+n,function(){d.refreshToggle()}),this.refreshToggle()}},s.prototype.updateSubrows=function(t){this.$table.find("["+this.attributes.subrow+"]").each(function(){var a=e(this).find("td[colspan]").eq(0);a.attr("colspan",parseInt(a.attr("colspan"),10)+(t?1:-1))})},s.prototype.$getCells=function(t){var a=this;return e(t).add(t.cells).filter(function(){return!e(this).parent().is("["+a.attributes.subrow+"]")})},s.prototype.getHeaderFromCheckbox=function(t){return e(t).data("tablesaw-header")},s.prototype.refreshToggle=function(){var e=this;this.$menu.find("input").each(function(){var t=e.getHeaderFromCheckbox(this);this.checked="table-cell"===e.$getCells(t).eq(0).css("display")})},s.prototype.refreshPriority=function(){var t=this;e(this.headers).each(function(){var a=e(this),s=a.attr("data-tablesaw-priority"),n=t.$getCells(this);s&&"persist"!==s&&(n.addClass(t.classes.priorityPrefix+s),"0"===s&&t.updateSubrows(!1))})},s.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){var t=e(this);t.removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},e(document).on(a.events.create,function(e,t){if("columntoggle"===t.mode){var a=new s(t.table);a.init()}}),e(document).on(a.events.destroy,function(a,s){"columntoggle"===s.mode&&e(s.table).data(t.key).destroy()})}(),function(){function t(t){var a=[];return e(t.childNodes).each(function(){var t=e(this);t.is("input, select")?a.push(t.val()):t.is(".tablesaw-cell-label")||a.push((t.text()||"").replace(/^\s+|\s+$/g,""))}),a.join("")}var s="tablesaw-sortable",n="table[data-"+s+"]",i="[data-"+s+"-switch]",o={defaultCol:"data-tablesaw-sortable-default-col",numericCol:"data-tablesaw-sortable-numeric",subRow:"data-tablesaw-subrow"},l={head:s+"-head",ascend:s+"-ascending",descend:s+"-descending",switcher:s+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:s+"-btn"},r={_create:function(t){return e(this).each(function(){var a=e(this).data(s+"-init");return!a&&void e(this).data(s+"-init",!0).trigger("beforecreate."+s)[s]("_init",t).trigger("create."+s)})},_init:function(){var n,r,c=e(this),d=function(t){e.each(t,function(t,a){e(a).addClass(l.head)})},h=function(t,a){e.each(t,function(t,s){var n=e("<button class='"+l.sortButton+"'/>");n.on("click",{col:s},a),e(s).wrapInner(n).find("button").append("<span class='tablesaw-sortable-arrow'>")})},u=function(t){e.each(t,function(t,a){var s=e(a);s.removeAttr(o.defaultCol),s.removeClass(l.ascend),s.removeClass(l.descend)})},f=function(t){if(!e(t.target).is("a[href]")){t.stopPropagation();var a=e(this).parent(),i=t.data.col,o=n.index(a[0]);u(a.siblings()),a.is("."+l.descend)||!a.is("."+l.ascend)?(c[s]("sortBy",i,!0),o+="_asc"):(c[s]("sortBy",i),o+="_desc"),r&&r.find("select").val(o).trigger("refresh"),t.preventDefault()}},b=function(t){e.each(t,function(t,a){var s=e(a);s.is("["+o.defaultCol+"]")&&(s.is("."+l.descend)||s.addClass(l.ascend))})},p=function(n){r=e("<div>").addClass(l.switcher).addClass(l.tableToolbar);var i=["<label>"+a.i18n.sort+":"];i.push('<span class="btn"><select>'),n.each(function(a){var s=e(this),n=s.is("["+o.defaultCol+"]"),r=s.is("."+l.descend),c=s.is("["+o.numericCol+"]"),d=0,h=5;e(this.cells.slice(0,h)).each(function(){isNaN(parseInt(t(this),10))||d++});var u=d===h;c||s.attr(o.numericCol,u?"":"false"),i.push("<option"+(n&&!r?" selected":"")+' value="'+a+'_asc">'+s.text()+" "+(u?"&#x2191;":"(A-Z)")+"</option>"),i.push("<option"+(n&&r?" selected":"")+' value="'+a+'_desc">'+s.text()+" "+(u?"&#x2193;":"(Z-A)")+"</option>")}),i.push("</select></span></label>"),r.html(i.join(""));var d=c.prev().filter(".tablesaw-bar"),h=d.children().eq(0);h.length?r.insertBefore(h):r.appendTo(d),r.find(".btn").tablesawbtn(),r.find("select").on("change",function(){var t=e(this).val().split("_"),a=n.eq(t[0]);u(a.siblings()),c[s]("sortBy",a.get(0),"asc"===t[1])})};c.addClass(s),n=c.children().filter("thead").find("th[data-"+s+"-col]"),d(n),h(n,f),b(n),c.is(i)&&p(n)},sortRows:function(a,s,n,i){var l,r,c,d=function(a){var s=[];return e.each(a,function(a,n){var i=n.parentNode,l=e(i).next().filter("["+o.subRow+"]");e(i).is("["+o.subRow+"]")||s.push({element:n,cell:t(n),row:i,subrow:l.length?l[0]:null})}),s},h=function(e,t){var a,s=/[^\-\+\d\.]/g;return a=e?function(e,a){return t?parseFloat(e.cell.replace(s,""))-parseFloat(a.cell.replace(s,"")):e.cell.toLowerCase()>a.cell.toLowerCase()?1:-1}:function(e,a){return t?parseFloat(a.cell.replace(s,""))-parseFloat(e.cell.replace(s,"")):e.cell.toLowerCase()<a.cell.toLowerCase()?1:-1}},u=function(e){var t,a,s=[];for(t=0,a=e.length;t<a;t++)s.push(e[t].row),e[t].subrow&&s.push(e[t].subrow);return s};l=d(i.cells);var f=e(i).data("tablesaw-sort");return r=!(!f||"function"!=typeof f)&&f(n)||h(n,e(i).is("["+o.numericCol+"]")&&!e(i).is("["+o.numericCol+'="false"]')),c=l.sort(r),a=u(c,a)},makeColDefault:function(t,a){var s=e(t);s.attr(o.defaultCol,"true"),a?(s.removeClass(l.descend),s.addClass(l.ascend)):(s.removeClass(l.ascend),s.addClass(l.descend))},sortBy:function(t,a){var n,i,o,l,r=e(this),c=r.data("tablesaw"),d=c.getBodyRows(),h=c.headerMapping[0];for(o=0,l=h.length;o<l;o++)if(h[o]===t){n=o;break}for(i=r[s]("sortRows",d,n,a,t),o=0,l=i.length;o<l;o++)c.$tbody.append(i[o]);r[s]("makeColDefault",t,a),r.trigger("tablesaw-sorted")}};e.fn[s]=function(t){var a,n=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?(a=e.fn[s].prototype[t].apply(this[0],n),"undefined"!=typeof a?a:e(this)):(e(this).data(s+"-active")||(e(this).data(s+"-active",!0),e.fn[s].prototype._create.call(this,t)),e(this))},e.extend(e.fn[s].prototype,r),e(document).on(a.events.create,function(e,t){t.$table.is(n)&&t.$table[s]()})}(),function(){function s(s,o){function l(t){return e(t.cells).add(t)}function r(e){l(e).removeClass("tablesaw-cell-hidden")}function c(e){l(e).addClass("tablesaw-cell-hidden")}function d(e){l(e).addClass("tablesaw-cell-persist")}function h(t){return e(t).is('[data-tablesaw-priority="persist"]')}function u(){o.removeClass(n.persistWidths),e("#"+N+"-persist").remove()}function f(){var t,a="#"+N+".tablesaw-swipe ",s=[],i=o.width(),l=[];if(x.each(function(e){var t;h(this)&&(t=this.offsetWidth,t<.75*i&&(l.push(e+"-"+t),s.push(a+" .tablesaw-cell-persist:nth-child("+(e+1)+") { width: "+t+"px; }")))}),t=l.join("_"),s.length){o.addClass(n.persistWidths);var r=e("#"+N+"-persist");r.length&&r.data("tablesaw-hash")===t||(r.remove(),e("<style>"+s.join("\n")+"</style>").attr("id",N+"-persist").data("tablesaw-hash",t).appendTo(B))}}function b(){var t,a=[];return _.each(function(s){var n=e(this),i="none"===n.css("display")||n.is(".tablesaw-cell-hidden");if(i||t){if(i&&t)return a[1]=s,!1}else t=!0,a[0]=s}),a}function p(){var e=b();return[e[1]-1,e[0]-1]}function v(e){return e?b():p()}function w(e){return e[1]>-1&&e[1]<_.length}function m(){var e=o.attr("data-tablesaw-swipe-media");return!e||"matchMedia"in t&&t.matchMedia(e).matches}function g(){if(m()){var t=o.parent().width(),a=[],s=0,n=[],i=x.length;x.each(function(o){var l=e(this),r=l.is('[data-tablesaw-priority="persist"]');a.push(r),s+=M[o],n.push(s),(r||s>t)&&i--});var l=0===i;x.each(function(e){return a[e]?void d(this):void(n[e]<=t||l?(l=!1,r(this)):c(this))}),u(),o.trigger("tablesawcolumns")}}function y(e){var t=v(e);w(t)&&(isNaN(t[0])&&(e?t[0]=0:t[0]=_.length-1),f(),c(_.get(t[0])),r(_.get(t[1])),o.trigger("tablesawcolumns"))}function C(e,t){return(e.touches||e.originalEvent.touches)[0][t]}var $=e("<div class='tablesaw-advance'></div>"),k=e("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo($),T=e("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo($),x=s._getPrimaryHeaderCells(),_=x.not('[data-tablesaw-priority="persist"]'),M=[],B=e(document.head||"head"),N=o.attr("id");if(!x.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");o.addClass("tablesaw-swipe"),x.each(function(){var e=this.offsetWidth;M.push(e)}),$.appendTo(o.prev().filter(".tablesaw-bar")),N||(N="tableswipe-"+Math.round(1e4*Math.random()),o.attr("id",N)),k.add(T).on("click",function(t){y(!!e(t.target).closest(T).length),t.preventDefault()}),o.is("["+i.disableTouchEvents+"]")||o.on("touchstart.swipetoggle",function(n){var i,o,l=C(n,"pageX"),r=C(n,"pageY"),c=window.pageYOffset;e(t).off(a.events.resize,g),e(this).on("touchmove.swipetoggle",function(e){i=C(e,"pageX"),o=C(e,"pageY")}).on("touchend.swipetoggle",function(){var n=s.getConfig({swipeHorizontalThreshold:30,swipeVerticalThreshold:30}),d=n.swipe?n.swipe.verticalThreshold:n.swipeVerticalThreshold,h=n.swipe?n.swipe.horizontalThreshold:n.swipeHorizontalThreshold,u=Math.abs(window.pageYOffset-c)>=d,f=Math.abs(o-r)>=d;f||u||(i-l<-1*h&&y(!0),i-l>h&&y(!1)),window.setTimeout(function(){e(t).on(a.events.resize,g)},300),e(this).off("touchmove.swipetoggle touchend.swipetoggle")})}),o.on("tablesawcolumns.swipetoggle",function(){var e=w(p()),t=w(b());k[e?"removeClass":"addClass"](n.hideBtn),T[t?"removeClass":"addClass"](n.hideBtn),k.closest("."+n.toolbar)[e||t?"removeClass":"addClass"](n.allColumnsVisible)}).on("tablesawnext.swipetoggle",function(){y(!0)}).on("tablesawprev.swipetoggle",function(){y(!1)}).on(a.events.destroy+".swipetoggle",function(){var s=e(this);s.removeClass("tablesaw-swipe"),s.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),e(t).off(a.events.resize,g),s.off(".swipetoggle")}).on(a.events.refresh,function(){M=[],x.each(function(){var e=this.offsetWidth;M.push(e)}),g()}),g(),e(t).on(a.events.resize,g)}var n={toolbar:"tablesaw-bar",hideBtn:"disabled",persistWidths:"tablesaw-fix-persist",allColumnsVisible:"tablesaw-all-cols-visible"},i={disableTouchEvents:"data-tablesaw-no-touch"};e(document).on(a.events.create,function(e,t){"swipe"===t.mode&&s(t,t.$table)})}(),function(){function s(s){function i(e){var a=e.attr(n.attr.init);return!a||t.matchMedia&&t.matchMedia(a).matches}function o(){if(!i(s))return void l.css("display","none");l.css("display","block");var t=r.find("li").removeClass(c);s.find("thead th").each(function(a){"none"===e(this).css("display")&&t.eq(a).addClass(c)})}var l=e('<div class="tablesaw-advance minimap">'),r=e('<ul class="tablesaw-advance-dots">').appendTo(l),c="tablesaw-advance-dots-hide",d=s.find("thead th");d.each(function(){r.append("<li><i></i></li>")}),l.appendTo(s.prev().filter(".tablesaw-bar")),o(),e(t).on(a.events.resize,o),s.on("tablesawcolumns.minimap",function(){o()}).on(a.events.destroy+".minimap",function(){var s=e(this);s.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),e(t).off(a.events.resize,o),s.off(".minimap")})}var n={attr:{init:"data-tablesaw-minimap"}};e(document).on(a.events.create,function(e,t){"swipe"!==t.mode&&"columntoggle"!==t.mode||!t.$table.is("[ "+n.attr.init+"]")||s(t.$table)})}(),function(){var s={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],init:function(t){var n,i=e(t),o=i.attr(s.attributes.excludeMode),l=i.prev().filter(".tablesaw-bar"),r="",c=e("<div>").addClass(s.classes.main+" "+s.classes.toolbar),d=["<label>"+a.i18n.columns+":"],h=i.attr("data-tablesaw-mode");d.push('<span class="btn"><select>');for(var u=0,f=s.modes.length;u<f;u++)o&&o.toLowerCase()===s.modes[u]||(n=h===s.modes[u],n&&(r=s.modes[u]),d.push("<option"+(n?" selected":"")+' value="'+s.modes[u]+'">'+a.i18n.modes[u]+"</option>"));d.push("</select></span></label>"),c.html(d.join(""));var b=l.find(".tablesaw-advance").eq(0);b.length?c.insertBefore(b):c.appendTo(l),c.find(".btn").tablesawbtn(),c.find("select").on("change",s.onModeChange)},onModeChange:function(){var t=e(this),a=t.closest("."+s.classes.main),n=t.closest(".tablesaw-bar").next().eq(0),i=t.val();a.remove(),n.data("tablesaw").destroy(),n.attr("data-tablesaw-mode",i),n.tablesaw()}};e(t.document).on(a.events.create,function(e,t){t.$table.is(s.selectors.init)&&s.init(t.table)})}(),function(){function t(e){this.tablesaw=e,this.$table=e.$table,this.checkboxAllSelector='input[type="checkbox"][data-tablesaw-checkall]',this.checkboxSelector='input[type="checkbox"]',this.$checkbox=null,this.$table.data(s)||(this.$table.data(s,this),this.init())}var s="tablesawCheckAll";t.prototype.init=function(){this.$checkbox=this.$table.find("thead").find(this.checkboxAllSelector),this.$checkbox.length&&this.addEvents()},t.prototype.addEvents=function(){var t=this;this.$checkbox.on("change",function(){var a=this.checked,s=e(this).closest("th");s.length&&e(s[0].cells).find(t.checkboxSelector).each(function(){this.checked=a})}),this.$table.find("tbody "+this.checkboxSelector).on("change",function(){var a,s=0,n=e(this).closest("th,td");n.length&&(a=n[0].headerCell.cells,e(a).find(t.checkboxSelector).not(t.checkboxAllSelector).each(function(){this.checked&&s++}),e(n[0].headerCell).find(t.checkboxSelector).each(function(){var e=s===a.length;this.checked=e,this.indeterminate=0!==s&&!e}))})},e(document).on(a.events.create,function(e,a){new t(a)})}()});
//# sourceMappingURL=build.js.map
